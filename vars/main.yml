---
# vars file for users
users_ssh_keygen_command: ssh-keygen -t rsa - b 4096 -f {{ users_ssh_key_directory }}/{{ user.name }} -N "" -C "Generated by ansible"
users_ssh_keygen_pubkey_command: ssh-keygen -y -f {{ users_ssh_key_directory }}/{{ user.name }}

_users_default_groups:
  Alpine:
  Archlinux:
  Coreos: wheel,docker,systemd-journal,portage,rkt
  Debian: audio,cdrom,dip,floppy,video,plugdev,netdev,scanner,bluetooth,debian-tor,lpadmin,sudo
  Ubuntu: adm,cdrom,dip,lpadmin,plugdev,sambashare,debian-tor,libvirtd,lxd,sudo
  RedHat: wheel
  Suse:

users_default_groups: "{{ _users_default_groups[ansible_distribution ~ '-' ~ ansible_distribution_major_version] | default(_users_default_groups[ansible_distribution] | default(_users_default_groups[ansible_os_family] | default(_users_default_groups['default'])) }}"

users_remove_initial_user_list:
  - name: "{{ initial_user }}"
    state: absent

users_initial_user_not_in_create_list: "{{ users_user_list | selectattr('name', 'equalto', initial_user) | list | length == 0 }}"
